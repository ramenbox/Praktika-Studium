let reason,dragged=!1,changed=!1,disabled_semesters=[],disabled_semesters_credits=[],disabled_modules=[],enabled_semesters=[],dragid="";function allowDrop(e){e.preventDefault()}function drag(e){e.dataTransfer.setData("text/html",e.target.id),dragid=e.target.id;const t=document.getElementById(e.target.id);if(t.classList.add("dragged"),dragged=!0,"module dragged"===t.className||"semester-modul dragged"===t.className){let e=DOMPurify.sanitize(t.id);t.id.split("_").length>1&&(e=DOMPurify.sanitize(t.id.split("_")[0])),$.ajax({type:"GET",url:"/u20.php?verify="+e,dataType:"html",success:function(e){if(modul_info=JSON.parse(e),0===modul_info.wintersemester){const e=document.getElementsByClassName("Wintersemester");for(ws of e)ws.classList.add("deadzone");disabled_semesters=e,reason="Sommersemester";var t=document.getElementsByClassName("Sommersemester");enabled_semesters=t,Array.prototype.forEach.call(t,function(e){let t=document.createElement("div");t.innerText="DROP MODUL HERE",t.classList.add("lightzone"),t.setAttribute("ondrop","drop(event)"),t.setAttribute("ondragover","allowDrop(event)"),e.lastChild.appendChild(t)})}if(0===modul_info.sommersemester){const e=document.getElementsByClassName("Sommersemester");for(ss of e)ss.classList.add("deadzone");disabled_semesters=e,reason="Wintersemester";var a=document.getElementsByClassName("Wintersemester");enabled_semesters=a,Array.prototype.forEach.call(a,function(e){let t=document.createElement("div");t.innerText="DROP MODUL HERE",t.classList.add("lightzone"),t.setAttribute("ondrop","drop(event)"),t.setAttribute("ondragover","allowDrop(event)"),e.lastChild.appendChild(t)})}let n=0;const s=parseInt(modul_info.fachsemester);if(s>=3&&s<4?n=30:s>=4&&(n=50),n>0){reason="credits";const e=document.querySelectorAll("progress");var o=0;for(x of e)o+=parseInt(x.getAttribute("value"));for(x of e)o<n&&(x.parentNode.parentNode.parentNode.classList.contains("deadzone")||(disabled_semesters_credits.push(x.parentNode.parentNode.parentNode),x.parentNode.parentNode.parentNode.classList.add("deadzone")))}}})}else if("veranstaltung dragged"===t.className){reason="veranstaltung";const e=t.id.split("_")[0],a=document.querySelectorAll(".modulname");for(module of a){e!==module.getAttribute("id").split("_")[0]&&(disabled_modules.push(module.parentNode),module.parentNode.classList.add("deadzone"))}const n=document.getElementsByClassName("semester");for(let e of n){const a=e.querySelectorAll(".modulname");let n=!1;for(let e of a)if(t.parentNode.parentNode.id===e.id.split("_")[0]){n=!0;break}n||e.classList.add("deadzone")}disabled_semesters=n}}function drop(e){e.preventDefault();let t=!0;const a=e.dataTransfer.getData("text/html"),n=document.getElementById(a);for(var s=e.target;null!==s;s=s.parentNode)if(void 0!==s.classList&&s.classList.length>0&&s.classList.contains("deadzone")){t=!1;var o=document.createElement("div");o.classList.add("speech-bubble"),o.innerText="credits"===reason?n.id+" konnte nicht im gewünschten Semester eingeplant werden, da in diesem, dem aktuellen Studienverlaufsplan zufolge, noch nicht genügend Credit Points vorhanden wären":"veranstaltung"===reason?"Die Veranstaltung gehört nicht zu diesem Modul":n.id+" konnte nicht im gewünschten Semester eingeplant werden, da "+n.id+" nur im "+reason+" angeboten wird",o.id="hinweis";var i=e.clientX,r=e.clientY;o.style.left=i,o.style.top=r,document.body.appendChild(o),$(document).on("mousemove",function(e){$(".speech-bubble").css("top",e.pageY),$(".speech-bubble").css("left",e.pageX)}),setTimeout(function(){document.getElementById("hinweis").remove()},3e3)}for(let e of disabled_semesters)e.classList.remove("deadzone");for(let e of disabled_semesters_credits)e.classList.remove("deadzone");for(let e of disabled_modules)e.classList.remove("deadzone");if(t&&null!==e.target.parentNode&&null!==e.target.parentNode.parentNode.parentNode.parentNode&&!e.target.parentNode.parentNode.classList.contains("modules-board"))if("lightzone"===e.target.className){if("module dragged"===n.className)n.classList.remove("module"),n.classList.add("semester-modul"),n.childNodes[1].classList.add("sm-veranstaltungen"),e.target.before(n),n.classList.remove("dragged"),(l=n.innerText.trim().split("\n")).push(e.target.parentNode.id),addModule(l);if("semester-modul dragged"===n.className)n.classList.remove("module"),n.classList.add("semester-modul"),n.childNodes[1].classList.add("sm-veranstaltungen"),e.target.before(n),n.classList.remove("dragged"),(l=n.innerText.trim().split("\n")).push(e.target.parentNode.id),addModule(l,!0)}else if("semester-button-delete"===e.target.className){if("module dragged"===n.className)n.classList.remove("module"),n.classList.add("semester-modul"),n.childNodes[1].classList.add("sm-veranstaltungen"),e.target.before(n),n.classList.remove("dragged"),(l=n.innerText.trim().split("\n")).push(e.target.parentNode.id),addModule(l)}else if("sm-veranstaltungen veranstaltungen"===e.target.className){if("veranstaltung dragged"===n.className){e.target.appendChild(n),n.classList.remove("dragged");const t=n.innerText.trim(),a=n.id,s=e.target.parentNode.parentNode.id;(l=[]).push(a),l.push(t),l.push(s),addVeranstaltung(l)}}else if("modulname"===e.target.className){if("module dragged"===n.className)n.classList.remove("module"),n.classList.add("semester-modul"),n.childNodes[1].classList.add("sm-veranstaltungen"),e.target.parentNode.parentNode.appendChild(n),n.classList.remove("dragged"),(l=n.innerText.trim().split("\n")).push(e.target.parentNode.parentNode.id),addModule(l)}else if("sm-veranstaltungen veranstaltungen"===e.target.parentNode.className){var l;if("module dragged"===n.className)n.classList.remove("module"),n.classList.add("semester-modul"),n.childNodes[1].classList.add("sm-veranstaltungen"),e.target.parentNode.parentNode.parentNode.parentNode.appendChild(n),n.classList.remove("dragged"),(l=n.innerText.trim().split("\n")).push(e.target.parentNode.parentNode.parentNode.id),addModule(l)}else if("semester"===e.target.parentNode.parentNode.parentNode.parentNode.querySelector("div").getAttribute("class")&&"veranstaltung"!==n.className)if("modulname"===e.target.parentNode.querySelector("div").getAttribute("class")){if("module dragged"===n.className){n.classList.remove("module"),n.classList.add("semester-modul"),n.childNodes[1].classList.add("sm-veranstaltungen"),e.target.parentNode.parentNode.appendChild(n),n.classList.remove("dragged"),addModule(n.innerText.trim().split("\n"))}}else if("veranstaltung"===e.target.parentNode.querySelector("div").getAttribute("class")){if("module dragged"===n.className){n.classList.remove("module"),n.classList.add("semester-modul"),n.childNodes[1].classList.add("sm-veranstaltungen"),e.target.parentNode.parentNode.parentNode.appendChild(n),n.classList.remove("dragged"),addModule(n.innerText.trim().split("\n"))}}else if("semester-modules"===e.target.className){if("module dragged"===n.className){n.classList.remove("module"),n.classList.add("semester-modul"),n.childNodes[1].classList.add("sm-veranstaltungen"),e.target.appendChild(n),n.classList.remove("dragged"),addModule(n.innerText.trim().split("\n"))}}else n.classList.remove("dragged");dragged=!1,n.classList.remove("dragged");for(let e of enabled_semesters)null!==e.lastChild.lastChild&&e.lastChild.lastChild.classList.contains("lightzone")&&e.lastChild.lastChild.remove()}function addVeranstaltung(e){e.forEach(function(e){DOMPurify.sanitize(e)}),$.ajax({type:"POST",url:"/u20.php?action=add_veranstaltung",data:{json:JSON.stringify(e)},dataType:"html",success:function(e){"OK"===e&&(getModules(),getStudienverlaufsplan())}})}function addModule(e,t=!1){e.forEach(function(e){DOMPurify.sanitize(e)}),t?$.ajax({type:"POST",url:"/u20.php?action=modul_change_semester",data:{json:JSON.stringify(e)},dataType:"html",success:function(e){"OK"===e&&getStudienverlaufsplan()}}):$.ajax({type:"POST",url:"/u20.php?action=add_module",data:{json:JSON.stringify(e)},dataType:"html",success:function(e){"OK"===e&&getStudienverlaufsplan()}})}function getModules(){!1===dragged&&$.ajax({type:"GET",url:"/u20.php",data:"data=module",dataType:"html",success:function(e){$(".modules-board").html(e)}})}function getStudienverlaufsplan(){!1===dragged&&!1===changed&&$.ajax({type:"GET",url:"/u20.php",data:"data=studienverlaufsplan",dataType:"html",success:function(e){const t=$("#semester-button-add");$(".semester-board").html(e),$(".semester-board").append(t)}})}function deleteSemesterModul(e){var t;e.parentNode.parentNode.classList.contains("modulname")?((t=[]).push(DOMPurify.sanitize(e.parentNode.parentNode.parentNode.parentNode.id)),t.push(DOMPurify.sanitize(e.parentNode.parentNode.id.split("_")[0])),$.ajax({type:"POST",url:"/u20.php?action=delete_modul",data:{json:JSON.stringify(t)},dataType:"html",success:function(e){"OK"===e&&(getModules(),getStudienverlaufsplan())}})):((t=[]).push(DOMPurify.sanitize(e.parentNode.parentNode.id.split("_")[0])),t.push(DOMPurify.sanitize(e.parentNode.parentNode.innerText)),t.push(DOMPurify.sanitize(e.parentNode.parentNode.parentNode.parentNode.parentNode.id)),$.ajax({type:"POST",url:"/u20.php?action=delete_modulveranstaltung",data:{json:JSON.stringify(t)},dataType:"html",success:function(e){"OK"===e&&(getModules(),getStudienverlaufsplan())}}))}function deleteSemester(e){const t=document.getElementById("logged_in");$.ajax({type:"GET",url:"/u25.php",data:"semester_delete="+encodeURIComponent(DOMPurify.sanitize(e.id))+"&for="+encodeURIComponent(DOMPurify.sanitize(t.innerText)),dataType:"html",success:function(e){"OK"===e&&(getModules(),getStudienverlaufsplan())}})}function addNewSemester(){const e=document.getElementById("logged_in");$.ajax({type:"GET",url:"/u25.php",data:"semester_add="+encodeURIComponent(DOMPurify.sanitize(e.innerText)),dataType:"html",success:function(e){"OK"===e&&(getModules(),getStudienverlaufsplan())}})}function change_moduloptionsdummy(){const e=document.getElementById("shm_id").value,t=document.querySelector('input[name="note"]').value,a=document.querySelector('input[name="titel"]').value,n=document.querySelector('textarea[name="notiz"]').value;let s=!1;document.querySelector('input[name="praktikum"]:checked')&&(s=!0),$.ajax({type:"POST",url:"/u20.php?action=moduloptions_dummy",data:"shm_id="+DOMPurify.sanitize(e)+"&pruefungsnote="+DOMPurify.sanitize(t)+"&modultitel="+DOMPurify.sanitize(a)+"&modulnotiz="+DOMPurify.sanitize(n)+"&praktikum_bestanden="+DOMPurify.sanitize(s),dataType:"html",success:function(e){"OK"===e&&getStudienverlaufsplan()}}),$("#moduloption").remove()}function change_moduloptions(){const e=document.getElementById("semesterjahr").value,t=document.getElementById("modulname").value,a=document.querySelector('input[name="note"]').value,n=document.querySelector('input[name="titel"]').value,s=document.querySelector('textarea[name="notiz"]').value;let o=!1;document.querySelector('input[name="praktikum"]:checked')&&(o=!0),$.ajax({type:"POST",url:"/u20.php?action=moduloptions",data:"modulname="+DOMPurify.sanitize(t)+"&semesterjahr="+DOMPurify.sanitize(e)+"&pruefungsnote="+DOMPurify.sanitize(a)+"&modultitel="+DOMPurify.sanitize(n)+"&modulnotiz="+DOMPurify.sanitize(s)+"&praktikum_bestanden="+DOMPurify.sanitize(o),dataType:"html",success:function(e){"OK"===e&&getStudienverlaufsplan()}}),$("#moduloption").remove()}function show_moduloptions(e){if("modules-board"===e.parentNode.parentNode.parentNode.parentNode.className){const t=e.parentNode.parentNode.parentNode.id,a=t.split("_");a.length>1?$.ajax({type:"GET",url:"/u20.php?verify="+a[0],dataType:"html",success:function(e){const t=JSON.parse(e);let n={modultitel:"",modulnotiz:"Notiz...",pruefungsnote:0,praktikum_bestanden:!1};$.ajax({type:"GET",url:"/u20.php?action=moduldetails_dummy",data:"shm_id="+encodeURIComponent(a[1]),dataType:"html",success:function(e){(n=JSON.parse(e)).pruefungsnote=parseFloat(n.pruefungsnote);let s=document.createElement("dialog");s.innerHTML='<input type="hidden" id="shm_id" name="shm_id" value="'+DOMPurify.sanitize(a[1])+'"><div class="topbar">Modul bearbeiten:</div><button class="X" onclick="$(\'#moduloption\').remove()">X</button><br><label for="note" style="position: relative;left: 0px">Note:</label> <input type="text" style="position: relative; left: 3px" id="note" name="note" value="'+(n.pruefungsnote>=1&&n.pruefungsnote<=5?n.pruefungsnote:"")+'"><br><label for="titel" style="position: relative; left: 0px; margin-top: 10px">Titel: </label><input type="text" style="position: relative; left: 6px; margin-top: 10px" id="titel" name="titel" value="'+DOMPurify.sanitize(n.modultitel)+'" '+(0===t.anzeigename_veraenderbar?"disabled":"")+'><br><br><label for="notiz" style="position: relative; left: 0px;">Geben Sie eine Notiz für ihr Modul ein: </label><br><textarea style="position: relative; left: 0px; margin-top: 7px" id="notiz" name="notiz" cols="34" rows="10">'+(null!==n.modulnotiz?DOMPurify.sanitize(n.modulnotiz):"Notiz...")+'</textarea><br><br><label for="praktikum">Praktikum bestanden?</label><input type="checkbox" id="praktikum" name="praktikum"  value="true" '+(n.praktikum_bestanden?"checked":"")+'><br><br><button type="reset" onclick="$(\'#moduloption\').remove();" style="position: relative; left: 0px">Abbrechen</button> <button type="submit" onclick="change_moduloptionsdummy()" style="position: relative; right: 0px;background-color: #40beaa">Best&auml;tigen</button>',s.setAttribute("id","moduloption"),document.body.appendChild(s),$("#moduloption").show()}})}}):$.ajax({type:"POST",url:"/u20.php?action=dummy",data:"modulname="+DOMPurify.sanitize(t),dataType:"html",success:function(e){const t=e;getModules(),$.ajax({type:"GET",url:"/u20.php?verify="+a[0],dataType:"html",success:function(e){const a=JSON.parse(e);let n={modultitel:"",modulnotiz:"Notiz...",pruefungsnote:0,praktikum_bestanden:!1};$.ajax({type:"GET",url:"/u20.php?action=moduldetails_dummy",data:"shm_id="+encodeURIComponent(t),dataType:"html",success:function(e){(n=JSON.parse(e)).pruefungsnote=parseFloat(n.pruefungsnote);let s=document.createElement("dialog");s.innerHTML='<input type="hidden" id="shm_id" name="shm_id" value="'+DOMPurify.sanitize(t)+'"><div class="topbar">Modul bearbeiten:</div><button class="X" onclick="$(\'#moduloption\').remove()">X</button><br><label for="note" style="position: relative;left: 0px">Note:</label> <input type="text" style="position: relative; left: 3px" id="note" name="note" value="'+(n.pruefungsnote>=1&&n.pruefungsnote<=5?n.pruefungsnote:"")+'"><br><label for="titel" style="position: relative; left: 0px; margin-top: 10px">Titel: </label><input type="text" style="position: relative; left: 6px; margin-top: 10px" id="titel" name="titel" value="'+DOMPurify.sanitize(n.modultitel)+'" '+(0===a.anzeigename_veraenderbar?"disabled":"")+'><br><br><label for="notiz" style="position: relative; left: 0px;">Geben Sie eine Notiz für ihr Modul ein: </label><br><textarea style="position: relative; left: 0px; margin-top: 7px" id="notiz" name="notiz" cols="34" rows="10">'+(null!==n.modulnotiz?DOMPurify.sanitize(n.modulnotiz):"Notiz...")+'</textarea><br><br><label for="praktikum">Praktikum bestanden?</label><input type="checkbox" id="praktikum" name="praktikum"  value="true" '+(n.praktikum_bestanden?"checked":"")+'><br><br><button type="reset" onclick="$(\'#moduloption\').remove();" style="position: relative; left: 0px">Abbrechen</button> <button type="submit" onclick="change_moduloptionsdummy()" style="position: relative; right: 0px;background-color: #40beaa">Best&auml;tigen</button>',s.setAttribute("id","moduloption"),document.body.appendChild(s),$("#moduloption").show()}})}})}})}else{const t=e.parentNode.parentNode.parentNode.parentNode.id,a=e.parentNode.parentNode.id.split("_")[0];$.ajax({type:"GET",url:"/u20.php?verify="+a,dataType:"html",success:function(e){const n=JSON.parse(e);let s={modultitel:"",modulnotiz:"Notiz...",pruefungsnote:0,praktikum_bestanden:!1};$.ajax({type:"GET",url:"/u20.php?action=moduldetails",data:"semesterjahr="+encodeURIComponent(DOMPurify.sanitize(t))+"&modulname="+encodeURIComponent(DOMPurify.sanitize(a)),dataType:"html",success:function(e){(s=JSON.parse(e)).pruefungsnote=parseFloat(s.pruefungsnote);let o=document.createElement("dialog");o.innerHTML='<input type="hidden" id="modulname" name="modulname" value="'+DOMPurify.sanitize(a)+'"><input type="hidden" id="semesterjahr" name="semesterjahr" value="'+DOMPurify.sanitize(t)+'"><div class="topbar">Modul bearbeiten:</div><button class="X" onclick="$(\'#moduloption\').remove()">X</button><br><label for="note" style="position: relative;left: 0px">Note:</label> <input type="text" style="position: relative; left: 3px" id="note" name="note" value="'+(s.pruefungsnote>=1&&s.pruefungsnote<=5?s.pruefungsnote:"")+'"><br><label for="titel" style="position: relative; left: 0px; margin-top: 10px">Titel: </label><input type="text" style="position: relative; left: 6px; margin-top: 10px" id="titel" name="titel" value="'+DOMPurify.sanitize(s.modultitel)+'" '+(0===n.anzeigename_veraenderbar?"disabled":"")+'><br><br><label for="notiz" style="position: relative; left: 0px;">Geben Sie eine Notiz für ihr Modul ein: </label><br><textarea style="position: relative; left: 0px; margin-top: 7px" id="notiz" name="notiz" cols="34" rows="10">'+(null!==s.modulnotiz?DOMPurify.sanitize(s.modulnotiz):"Notiz...")+'</textarea><br><br><label for="praktikum">Praktikum bestanden?</label><input type="checkbox" id="praktikum" name="praktikum"  value="true" '+(s.praktikum_bestanden?"checked":"")+'><br><br><button type="reset" onclick="$(\'#moduloption\').remove();" style="position: relative; left: 0px">Abbrechen</button> <button type="submit" onclick="change_moduloptions()" style="position: relative; right: 0px;background-color: #40beaa">Best&auml;tigen</button>',o.setAttribute("id","moduloption"),document.body.appendChild(o),$("#moduloption").show()}})}})}}function change_pruefung(){const e=document.getElementById("semesterjahr").value,t=document.getElementById("modulname").value,a=document.querySelector('input[name="note"]').value;$.ajax({type:"POST",url:"/u20.php?action=veranstaltungoption",data:"semesterjahr="+DOMPurify.sanitize(e)+"&modulname="+DOMPurify.sanitize(t)+"&pruefungsnote="+a,dataType:"html",success:function(e){"OK"===e&&getStudienverlaufsplan()}}),$("#veranstaltungoption").remove()}function change_praktikum(){const e=document.getElementById("semesterjahr").value,t=document.getElementById("modulname").value;let a=!1;null!==document.querySelector('input[name="praktikum"]:checked')&&(a=!0),$.ajax({type:"POST",url:"/u20.php?action=veranstaltungoption",data:"semesterjahr="+DOMPurify.sanitize(e)+"&modulname="+DOMPurify.sanitize(t)+"&praktikum_bestanden="+a,dataType:"html",success:function(e){"OK"===e&&getStudienverlaufsplan()}}),$("#veranstaltungoption").remove()}function show_veranstaltungoptions(e){const t=e.parentNode.parentNode.innerText,a=e.parentNode.parentNode.id.split("_")[0],n=e.parentNode.parentNode.parentNode.parentNode.parentNode.id;if("Prüfung"===t){let e=document.createElement("dialog");e.innerHTML='<div class="topbarklein">Note bearbeiten:</div><button class="X"  onclick="$(\'#veranstaltungoption\').remove();">X</button><br><input type="hidden" id="semesterjahr" name="semesterjahr" value="'+DOMPurify.sanitize(n)+'"><input type="hidden" id="modulname" name="modulname" value="'+DOMPurify.sanitize(a)+'"><label for="note">Note:</label><input style="margin-left: 5px" type="text" id="note" name="note" value=""><br><br><button style="position: relative" type="reset" onclick="$(\'#veranstaltungoption\').remove();">Abbrechen</button> <button style="background-color: #40beaa" type="submit" onclick="change_pruefung()">Bestätigen</button>',e.setAttribute("id","veranstaltungoption"),document.body.appendChild(e),$("#veranstaltungoption").show()}else if("Praktikum"===t){let e=document.createElement("dialog");e.innerHTML='<div class="topbarklein">Praktikum bearbeiten:</div><button class="X"  onclick="$(\'#veranstaltungoption\').remove();">X</button><br><input type="hidden" id="semesterjahr" name="semesterjahr" value="'+DOMPurify.sanitize(n)+'"><input type="hidden" id="modulname" name="modulname" value="'+DOMPurify.sanitize(a)+'"><label for="praktikum">Praktikum bestanden</label><input type="checkbox" id="praktikum" name="praktikum" value="true"><br><br><button style="position: relative" type="reset" onclick="$(\'#veranstaltungoption\').remove();">Abbrechen</button> <button style="background-color: #40beaa" type="submit" onclick="change_praktikum()">Bestätigen</button>',e.setAttribute("id","veranstaltungoption"),document.body.appendChild(e),$("#veranstaltungoption").show()}}function change_semesteroption(){const e=document.getElementById("semesterjahr").value,t=document.querySelector('input[name="semestertyp"]:checked').value;$.ajax({type:"POST",url:"/u20.php?action=semesteroptions",data:"semestertyp="+DOMPurify.sanitize(t)+"&semesterjahr="+DOMPurify.sanitize(e),dataType:"html",success:function(e){"OK"===e&&getStudienverlaufsplan()}}),$("#semesteroption").remove()}function show_semesteroptions(e){let t=e.parentNode.childNodes[0].innerText.split(" "),a=DOMPurify.sanitize(e.parentNode.childNodes[1].innerText),n="",s="",o="",i="",r="";"Vorlesungssemester"===a?n="checked":"Praxissemester"===a?s="checked":"Auslandssemester"===a?o="checked":"Urlaubssemester"===a?i="checked":"Krankheitssemester"===a&&(r="checked");let l=document.createElement("dialog");l.innerHTML='<form method="dialog"><div class="topbarklein">Semestertyp auswählen:</div><button class="X" onclick="$(\'#semesteroption\').remove()">X</button><br><input type="hidden" id="semesterjahr" name="semesterjahr" value="'+DOMPurify.sanitize(t[1])+'">        <input type="radio" id="vorlesung" name="semestertyp" value="vorlesung"'+n+'>        <label for="vorlesung">Vorlesungssemester</label><br>        <input type="radio" id="praxis" name="semestertyp" value="praxis"'+s+'>        <label for="praxis">Praxissemester</label><br>        <input type="radio" id="ausland" name="semestertyp" value="ausland"'+o+'>        <label for="ausland">Auslandssemester</label><br>        <input type="radio" id="urlaub" name="semestertyp" value="urlaub"'+i+'>        <label for="urlaub">Urlaubssemester</label><br>        <input type="radio" id="krankheit" name="semestertyp" value="krankheit"'+r+'>        <label for="krankheit">Krankheitssemester</label><br>        <br>        <button type="reset" onclick="$(\'#semesteroption\').remove();">Abbrechen</button>        <button type="submit" onclick="change_semesteroption()" style="background-color: #40beaa">Bestätigen</button>    </form>',l.setAttribute("id","semesteroption"),document.body.appendChild(l),$("#semesteroption").show()}$(document).ready(function(){getModules(),getStudienverlaufsplan(),document.addEventListener("dragend",function(e){dragged=!1;const t=dragid;document.getElementById(t).classList.remove("dragged");for(let e of disabled_semesters)e.classList.remove("deadzone");for(let e of disabled_semesters_credits)e.classList.remove("deadzone");for(let e of disabled_modules)e.classList.remove("deadzone");for(let e of enabled_semesters)null!==e.lastChild.lastChild&&e.lastChild.lastChild.classList.contains("lightzone")&&e.lastChild.lastChild.remove()})});